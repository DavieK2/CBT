import{S as t,i as e,s,l as a,f as l,H as r,I as c,d as n,e as o,t as d,k as u,c as i,a as h,g as f,n as p,b as v,J as g,F as x,L as m,K as _,M as E,h as y,G as T,O as b,P as w}from"../chunks/vendor-1c533bd0.js";function D(t,e,s){const a=t.slice();return a[10]=e[s],a[12]=s,a}function S(t,e,s){const a=t.slice();return a[13]=e[s],a}function O(t,e,s){const a=t.slice();return a[16]=e[s],a}function N(t){let e,s=[],o=new Map,d=t[1];const u=t=>t[16].id;for(let a=0;a<d.length;a+=1){let e=O(t,d,a),l=u(e);o.set(l,s[a]=I(l,e))}return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=a()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=a()},m(t,a){for(let e=0;e<s.length;e+=1)s[e].m(t,a);l(t,e,a)},p(t,a){2&a&&(d=t[1],s=r(s,a,u,1,t,d,o,e.parentNode,c,I,e,O))},d(t){for(let e=0;e<s.length;e+=1)s[e].d(t);t&&n(e)}}}function I(t,e){let s,a,r,c=e[16].class_name+"";return{key:t,first:null,c(){s=o("option"),a=d(c),this.h()},l(t){s=i(t,"OPTION",{});var e=h(s);a=f(e,c),e.forEach(n),this.h()},h(){s.__value=r=e[16].class_name,s.value=s.__value,this.first=s},m(t,e){l(t,s,e),x(s,a)},p(t,l){e=t,2&l&&c!==(c=e[16].class_name+"")&&y(a,c),2&l&&r!==(r=e[16].class_name)&&(s.__value=r,s.value=s.__value)},d(t){t&&n(s)}}}function k(t){let e,s=[],o=new Map,d=t[0];const u=t=>t[13].id;for(let a=0;a<d.length;a+=1){let e=S(t,d,a),l=u(e);o.set(l,s[a]=H(l,e))}return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=a()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=a()},m(t,a){for(let e=0;e<s.length;e+=1)s[e].m(t,a);l(t,e,a)},p(t,a){1&a&&(d=t[0],s=r(s,a,u,1,t,d,o,e.parentNode,c,H,e,S))},d(t){for(let e=0;e<s.length;e+=1)s[e].d(t);t&&n(e)}}}function H(t,e){let s,a,r,c=e[13].title+"";return{key:t,first:null,c(){s=o("option"),a=d(c),this.h()},l(t){s=i(t,"OPTION",{});var e=h(s);a=f(e,c),e.forEach(n),this.h()},h(){s.__value=r=e[13].id,s.value=s.__value,this.first=s},m(t,e){l(t,s,e),x(s,a)},p(t,l){e=t,1&l&&c!==(c=e[13].title+"")&&y(a,c),1&l&&r!==(r=e[13].id)&&(s.__value=r,s.value=s.__value)},d(t){t&&n(s)}}}function j(t){let e;return{c(){e=o("tr")},l(t){e=i(t,"TR",{}),h(e).forEach(n)},m(t,s){l(t,e,s)},p:T,d(t){t&&n(e)}}}function B(t){let e,s=[],o=new Map,d=t[3];const u=t=>t[10].id;for(let a=0;a<d.length;a+=1){let e=D(t,d,a),l=u(e);o.set(l,s[a]=R(l,e))}return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=a()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=a()},m(t,a){for(let e=0;e<s.length;e+=1)s[e].m(t,a);l(t,e,a)},p(t,a){24&a&&(d=t[3],s=r(s,a,u,1,t,d,o,e.parentNode,c,R,e,D))},d(t){for(let e=0;e<s.length;e+=1)s[e].d(t);t&&n(e)}}}function R(t,e){let s,a,r,c,g,m,_,T,b,w,D,S,O,N,I,k,H,j,B,R,V,P,C,$,A,L=e[12]+1+"",M=e[10].student_name+"",G=e[10].student_grade+"",J=e[10].title+"",U=e[10].score+"",z=e[10].created_at+"";function F(){return e[9](e[10])}return{key:t,first:null,c(){s=o("tr"),a=o("td"),r=d(L),c=u(),g=o("td"),m=d(M),_=u(),T=o("td"),b=d(G),w=u(),D=o("td"),S=d(J),O=u(),N=o("td"),I=d(U),k=u(),H=o("td"),j=d(z),B=u(),R=o("td"),V=o("button"),P=d("Delete"),C=u(),this.h()},l(t){s=i(t,"TR",{class:!0});var e=h(s);a=i(e,"TD",{class:!0,width:!0});var l=h(a);r=f(l,L),l.forEach(n),c=p(e),g=i(e,"TD",{class:!0});var o=h(g);m=f(o,M),o.forEach(n),_=p(e),T=i(e,"TD",{});var d=h(T);b=f(d,G),d.forEach(n),w=p(e),D=i(e,"TD",{});var u=h(D);S=f(u,J),u.forEach(n),O=p(e),N=i(e,"TD",{});var v=h(N);I=f(v,U),v.forEach(n),k=p(e),H=i(e,"TD",{});var x=h(H);j=f(x,z),x.forEach(n),B=p(e),R=i(e,"TD",{});var E=h(R);V=i(E,"BUTTON",{class:!0});var y=h(V);P=f(y,"Delete"),y.forEach(n),E.forEach(n),C=p(e),e.forEach(n),this.h()},h(){v(a,"class","text-center"),v(a,"width","5%"),v(g,"class","capitalize"),v(V,"class","bg-red-600 text-white py-2 px-4 text-xs rounded-full"),v(s,"class","border-gray-300 border-b text-sm text-gray-800"),this.first=s},m(t,e){l(t,s,e),x(s,a),x(a,r),x(s,c),x(s,g),x(g,m),x(s,_),x(s,T),x(T,b),x(s,w),x(s,D),x(D,S),x(s,O),x(s,N),x(N,I),x(s,k),x(s,H),x(H,j),x(s,B),x(s,R),x(R,V),x(V,P),x(s,C),$||(A=E(V,"click",F),$=!0)},p(t,s){e=t,8&s&&L!==(L=e[12]+1+"")&&y(r,L),8&s&&M!==(M=e[10].student_name+"")&&y(m,M),8&s&&G!==(G=e[10].student_grade+"")&&y(b,G),8&s&&J!==(J=e[10].title+"")&&y(S,J),8&s&&U!==(U=e[10].score+"")&&y(I,U),8&s&&z!==(z=e[10].created_at+"")&&y(j,z)},d(t){t&&n(s),$=!1,A()}}}function V(t){let e,s,a,r,c,w,D,S,O,I,H,R,V,P,C,$,A,L,M,G,J,U,z,F,K,Y,q,Q,W,X,Z,tt,et,st,at,lt,rt,ct,nt,ot,dt,ut,it,ht,ft,pt,vt,gt,xt,mt,_t,Et,yt,Tt,bt=t[3].length+"",wt=t[1].length>0&&N(t),Dt=t[0].length>0&&k(t);function St(t,e){return t[3].length>0?B:j}let Ot=St(t),Nt=Ot(t);return{c(){e=o("div"),s=o("div"),a=o("h4"),r=d("Test Results"),c=u(),w=o("div"),D=o("div"),S=o("div"),O=o("div"),I=o("select"),H=o("option"),R=d("Select Class"),wt&&wt.c(),V=u(),P=o("select"),C=o("option"),$=d("Select Test"),Dt&&Dt.c(),A=u(),L=o("input"),M=u(),G=o("button"),J=d("Export Result"),U=u(),z=o("table"),F=o("thead"),K=o("tr"),Y=o("th"),q=d("S/No"),Q=u(),W=o("th"),X=d("Student Name"),Z=u(),tt=o("th"),et=d("Grade"),st=u(),at=o("th"),lt=d("Test"),rt=u(),ct=o("th"),nt=d("Score"),ot=u(),dt=o("th"),ut=d("Test Taken"),it=u(),ht=o("th"),ft=d("Action"),pt=u(),vt=o("tbody"),Nt.c(),gt=u(),xt=o("div"),mt=o("div"),_t=d("Total Students: "),Et=d(bt),this.h()},l(t){e=i(t,"DIV",{class:!0});var l=h(e);s=i(l,"DIV",{class:!0});var o=h(s);a=i(o,"H4",{class:!0});var d=h(a);r=f(d,"Test Results"),d.forEach(n),o.forEach(n),c=p(l),w=i(l,"DIV",{class:!0});var u=h(w);D=i(u,"DIV",{class:!0});var v=h(D);S=i(v,"DIV",{class:!0});var g=h(S);O=i(g,"DIV",{class:!0});var x=h(O);I=i(x,"SELECT",{class:!0});var m=h(I);H=i(m,"OPTION",{});var _=h(H);R=f(_,"Select Class"),_.forEach(n),wt&&wt.l(m),m.forEach(n),V=p(x),P=i(x,"SELECT",{class:!0});var E=h(P);C=i(E,"OPTION",{});var y=h(C);$=f(y,"Select Test"),y.forEach(n),Dt&&Dt.l(E),E.forEach(n),A=p(x),L=i(x,"INPUT",{type:!0,class:!0,placeholder:!0}),M=p(x),G=i(x,"BUTTON",{class:!0});var T=h(G);J=f(T,"Export Result"),T.forEach(n),x.forEach(n),g.forEach(n),U=p(v),z=i(v,"TABLE",{id:!0,class:!0});var b=h(z);F=i(b,"THEAD",{class:!0});var N=h(F);K=i(N,"TR",{class:!0});var k=h(K);Y=i(k,"TH",{class:!0});var j=h(Y);q=f(j,"S/No"),j.forEach(n),Q=p(k),W=i(k,"TH",{class:!0});var B=h(W);X=f(B,"Student Name"),B.forEach(n),Z=p(k),tt=i(k,"TH",{class:!0});var yt=h(tt);et=f(yt,"Grade"),yt.forEach(n),st=p(k),at=i(k,"TH",{class:!0});var Tt=h(at);lt=f(Tt,"Test"),Tt.forEach(n),rt=p(k),ct=i(k,"TH",{class:!0});var St=h(ct);nt=f(St,"Score"),St.forEach(n),ot=p(k),dt=i(k,"TH",{class:!0});var Ot=h(dt);ut=f(Ot,"Test Taken"),Ot.forEach(n),it=p(k),ht=i(k,"TH",{class:!0});var It=h(ht);ft=f(It,"Action"),It.forEach(n),k.forEach(n),N.forEach(n),pt=p(b),vt=i(b,"TBODY",{});var kt=h(vt);Nt.l(kt),kt.forEach(n),b.forEach(n),v.forEach(n),gt=p(u),xt=i(u,"DIV",{class:!0});var Ht=h(xt);mt=i(Ht,"DIV",{class:!0});var jt=h(mt);_t=f(jt,"Total Students: "),Et=f(jt,bt),jt.forEach(n),Ht.forEach(n),u.forEach(n),l.forEach(n),this.h()},h(){v(a,"class","font-bold text-4xl text-gray-700 cursor-pointer"),v(s,"class","flex items-center space-x-6 mb-10"),H.__value="",H.value=H.__value,v(I,"class","w-full mr-3 rounded-xl border focus:border-transparent focus:outline-none focus:ring-2 focus:ring-black bg-white py-3 px-2 border-gray-600 text-sm text-gray-800 placeholder-gray-700"),void 0===t[2].student_grade&&g((()=>t[5].call(I))),C.__value="",C.value=C.__value,v(P,"class","w-full mr-3 rounded-xl border focus:border-transparent focus:outline-none focus:ring-2 focus:ring-black bg-white py-3 px-2 border-gray-600 text-sm text-gray-800 placeholder-gray-700"),void 0===t[2].test_id&&g((()=>t[6].call(P))),v(L,"type","text"),v(L,"class","w-full mr-3 rounded-xl border focus:border-none focus:outline-none focus:ring-2 focus:ring-black bg-white py-3 px-2 border-gray-600 text-sm text-gray-800 placeholder-gray-700"),v(L,"placeholder","Student Name"),v(G,"class","p-2 bg-green-500 text-white text-xs font-bold hover:bg-green-600 rounded-full w-96"),v(O,"class","flex flex-row w-full"),v(S,"class","flex flex-row px-4"),v(Y,"class","pl-4 py-2"),v(W,"class","py-2"),v(tt,"class","py-2"),v(at,"class","py-2"),v(ct,"class","py-2"),v(dt,"class","py-2"),v(ht,"class","py-2"),v(K,"class","text-left text-xs text-white px-4 uppercase"),v(F,"class","bg-gray-600"),v(z,"id","tblData"),v(z,"class","table-fixed mt-5 min-w-full"),v(D,"class",""),v(mt,"class","text-xl font-bold text-gray-600"),v(xt,"class","flex flex-col space-y-3 justify-center items-center mt-5 px-4 text-xs"),v(w,"class","flex flex-col justify-between bg-white rounded-xl h-full w-auto mt-5 py-5 overflow-x-hidden overflow-scroll scrollbar relative shadow-2xl"),v(e,"class","flex flex-col px-10 min-h-screen py-10 bg-gray-200")},m(n,o){l(n,e,o),x(e,s),x(s,a),x(a,r),x(e,c),x(e,w),x(w,D),x(D,S),x(S,O),x(O,I),x(I,H),x(H,R),wt&&wt.m(I,null),m(I,t[2].student_grade),x(O,V),x(O,P),x(P,C),x(C,$),Dt&&Dt.m(P,null),m(P,t[2].test_id),x(O,A),x(O,L),_(L,t[2].student_name),x(O,M),x(O,G),x(G,J),x(D,U),x(D,z),x(z,F),x(F,K),x(K,Y),x(Y,q),x(K,Q),x(K,W),x(W,X),x(K,Z),x(K,tt),x(tt,et),x(K,st),x(K,at),x(at,lt),x(K,rt),x(K,ct),x(ct,nt),x(K,ot),x(K,dt),x(dt,ut),x(K,it),x(K,ht),x(ht,ft),x(z,pt),x(z,vt),Nt.m(vt,null),x(w,gt),x(w,xt),x(xt,mt),x(mt,_t),x(mt,Et),yt||(Tt=[E(I,"change",t[5]),E(P,"change",t[6]),E(L,"input",t[7]),E(G,"click",t[8])],yt=!0)},p(t,[e]){t[1].length>0?wt?wt.p(t,e):(wt=N(t),wt.c(),wt.m(I,null)):wt&&(wt.d(1),wt=null),6&e&&m(I,t[2].student_grade),t[0].length>0?Dt?Dt.p(t,e):(Dt=k(t),Dt.c(),Dt.m(P,null)):Dt&&(Dt.d(1),Dt=null),6&e&&m(P,t[2].test_id),6&e&&L.value!==t[2].student_name&&_(L,t[2].student_name),Ot===(Ot=St(t))&&Nt?Nt.p(t,e):(Nt.d(1),Nt=Ot(t),Nt&&(Nt.c(),Nt.m(vt,null))),8&e&&bt!==(bt=t[3].length+"")&&y(Et,bt)},i:T,o:T,d(t){t&&n(e),wt&&wt.d(),Dt&&Dt.d(),Nt.d(),yt=!1,b(Tt)}}}async function P({fetch:t}){const e=await t("/api/getClassesAndTests.json"),s=await e.json();return{props:{tests:s.tests,classes:s.classes}}}function C(t,e,s){let{tests:a}=e,{classes:l}=e,r=[],c={student_name:"",student_grade:"",test_id:""};const n=t=>{fetch("/api/deleteResult.json",{method:"POST",body:JSON.stringify({id:t}),headers:{"content-type":"application/json"}}).then((t=>t.json())).then((t=>(s(3,r),s(2,c)))).catch((t=>t))};return t.$$set=t=>{"tests"in t&&s(0,a=t.tests),"classes"in t&&s(1,l=t.classes)},t.$$.update=()=>{4&t.$$.dirty&&fetch("/api/results/"+JSON.stringify(c)+".json").then((t=>t.json())).then((t=>s(3,r=t.data))).catch((t=>t))},[a,l,c,r,n,function(){c.student_grade=w(this),s(2,c),s(1,l)},function(){c.test_id=w(this),s(2,c),s(1,l)},function(){c.student_name=this.value,s(2,c),s(1,l)},()=>function(t,e=""){var s,a="application/vnd.ms-excel",l=document.getElementById(t).outerHTML.replace(/ /g,"%20");if(e=e?e+".xls":"excel_data.xls",s=document.createElement("a"),document.body.appendChild(s),navigator.msSaveOrOpenBlob){var r=new Blob(["\ufeff",l],{type:a});navigator.msSaveOrOpenBlob(r,e)}else s.href="data:"+a+", "+l,s.download=e,s.click()}("tblData",c.student_grade),t=>n(t.id)]}export default class extends t{constructor(t){super(),e(this,t,C,V,s,{tests:0,classes:1})}}export{P as load};
