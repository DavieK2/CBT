import{S as e,i as t,s,e as a,t as l,k as r,c,a as n,g as o,d,n as i,b as f,f as h,F as u,K as p,M as x,R as v,G as g,O as m,T as b,U as y,l as E,H as T,I as w,j as D,m as _,o as N,x as S,u as I,v as O,J as j,V,L as $,h as C,w as k,r as B,P as A}from"../chunks/vendor-1c533bd0.js";function H(e){let t,s,b,y,E,T,w,D,_,N,S,I,O,j,V,$;return{c(){t=a("div"),s=a("div"),b=a("div"),y=a("label"),E=l("Enter Class Name"),T=r(),w=a("input"),D=r(),_=a("div"),N=a("button"),S=l("Add Class"),I=r(),O=a("div"),j=l("Close [x]"),this.h()},l(e){t=c(e,"DIV",{class:!0});var a=n(t);s=c(a,"DIV",{class:!0});var l=n(s);b=c(l,"DIV",{class:!0});var r=n(b);y=c(r,"LABEL",{for:!0,class:!0});var f=n(y);E=o(f,"Enter Class Name"),f.forEach(d),T=i(r),w=c(r,"INPUT",{class:!0,type:!0}),r.forEach(d),D=i(l),_=c(l,"DIV",{class:!0});var h=n(_);N=c(h,"BUTTON",{class:!0});var u=n(N);S=o(u,"Add Class"),u.forEach(d),h.forEach(d),I=i(l),O=c(l,"DIV",{class:!0});var p=n(O);j=o(p,"Close [x]"),p.forEach(d),l.forEach(d),a.forEach(d),this.h()},h(){f(y,"for","class"),f(y,"class","text-lg text-center font-semibold text-gray-700"),f(w,"class","mt-5 w-full focus:outline-none bg-white px-2 py-4 rounded-lg border-2 border-gray-500"),f(w,"type","text"),w.required=!0,f(b,"class","flex flex-col"),f(N,"class","rounded-full px-8 py-3 text-base text-white bg-red-500 hover:bg-red-700"),f(_,"class","mt-8"),f(O,"class","text-gray-700 mt-6 text-lg cursor-pointer"),f(s,"class","flex flex-col items-center justify-center bg-white w-96 h-80 rounded-2xl py-8"),f(t,"class","fixed inset-0 h-screen flex items-center justify-center w-full bg-gray-700 bg-opacity-40")},m(a,l){h(a,t,l),u(t,s),u(s,b),u(b,y),u(y,E),u(b,T),u(b,w),p(w,e[0].class_name),u(s,D),u(s,_),u(_,N),u(N,S),u(s,I),u(s,O),u(O,j),V||($=[x(w,"input",e[3]),x(N,"click",e[4]),x(O,"click",v(e[2]))],V=!0)},p(e,[t]){1&t&&w.value!==e[0].class_name&&p(w,e[0].class_name)},i:g,o:g,d(e){e&&d(t),V=!1,m($)}}}function P(e,t,s){let a=b(),l={class_name:""};const r=()=>{""===l.class_name||fetch("/api/addclass.json",{method:"POST",body:JSON.stringify(l),headers:{"content-type":"application/json"}}).then((e=>e.json())).then((e=>a("addclass",e))).catch((e=>e))};return[l,r,function(t){y.call(this,e,t)},function(){l.class_name=this.value,s(0,l)},()=>r()]}class U extends e{constructor(e){super(),t(this,e,P,H,s,{})}}function L(e,t,s){const a=e.slice();return a[15]=t[s],a[17]=s,a}function R(e,t,s){const a=e.slice();return a[18]=t[s],a[17]=s,a}function J(e,t,s){const a=e.slice();return a[15]=t[s],a}function M(e){let t,s=[],a=new Map,l=e[0];const r=e=>e[15].id;for(let c=0;c<l.length;c+=1){let t=J(e,l,c),n=r(t);a.set(n,s[c]=G(n,t))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=E()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=E()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);h(e,t,a)},p(e,c){1&c&&(l=e[0],s=T(s,c,r,1,e,l,a,t.parentNode,w,G,t,J))},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&d(t)}}}function G(e,t){let s,r,i,f=t[15].class_name+"";return{key:e,first:null,c(){s=a("option"),r=l(f),this.h()},l(e){s=c(e,"OPTION",{});var t=n(s);r=o(t,f),t.forEach(d),this.h()},h(){s.__value=i=t[15].class_name,s.value=s.__value,this.first=s},m(e,t){h(e,s,t),u(s,r)},p(e,a){t=e,1&a&&f!==(f=t[15].class_name+"")&&C(r,f),1&a&&i!==(i=t[15].class_name)&&(s.__value=i,s.value=s.__value)},d(e){e&&d(s)}}}function z(e){let t;return{c(){t=a("tr")},l(e){t=c(e,"TR",{}),n(t).forEach(d)},m(e,s){h(e,t,s)},p:g,d(e){e&&d(t)}}}function Y(e){let t,s=[],a=new Map,l=e[2];const r=e=>e[18].id;for(let c=0;c<l.length;c+=1){let t=R(e,l,c),n=r(t);a.set(n,s[c]=q(n,t))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=E()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=E()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);h(e,t,a)},p(e,c){260&c&&(l=e[2],s=T(s,c,r,1,e,l,a,t.parentNode,w,q,t,R))},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&d(t)}}}function q(e,t){let s,p,v,g,m,b,y,E,T,w,D,_,N,S,I,O,j,V,$=t[17]+1+"",k=t[18].first_name+"",B=t[18].surname+"",A=t[18].grade+"";function H(){return t[12](t[18])}return{key:e,first:null,c(){s=a("tr"),p=a("td"),v=l($),g=r(),m=a("td"),b=l(k),y=r(),E=l(B),T=r(),w=a("td"),D=l(A),_=r(),N=a("td"),S=a("button"),I=l("Delete"),O=r(),this.h()},l(e){s=c(e,"TR",{class:!0});var t=n(s);p=c(t,"TD",{class:!0,width:!0});var a=n(p);v=o(a,$),a.forEach(d),g=i(t),m=c(t,"TD",{class:!0});var l=n(m);b=o(l,k),y=i(l),E=o(l,B),l.forEach(d),T=i(t),w=c(t,"TD",{});var r=n(w);D=o(r,A),r.forEach(d),_=i(t),N=c(t,"TD",{});var f=n(N);S=c(f,"BUTTON",{class:!0});var h=n(S);I=o(h,"Delete"),h.forEach(d),f.forEach(d),O=i(t),t.forEach(d),this.h()},h(){f(p,"class","text-center"),f(p,"width","5%"),f(m,"class","capitalize"),f(S,"class","bg-red-600 text-white py-2 px-4 text-xs rounded-full"),f(s,"class","border-gray-300 border-b text-sm text-gray-800"),this.first=s},m(e,t){h(e,s,t),u(s,p),u(p,v),u(s,g),u(s,m),u(m,b),u(m,y),u(m,E),u(s,T),u(s,w),u(w,D),u(s,_),u(s,N),u(N,S),u(S,I),u(s,O),j||(V=x(S,"click",H),j=!0)},p(e,s){t=e,4&s&&$!==($=t[17]+1+"")&&C(v,$),4&s&&k!==(k=t[18].first_name+"")&&C(b,k),4&s&&B!==(B=t[18].surname+"")&&C(E,B),4&s&&A!==(A=t[18].grade+"")&&C(D,A)},d(e){e&&d(s),j=!1,V()}}}function F(e){let t;return{c(){t=a("tr")},l(e){t=c(e,"TR",{}),n(t).forEach(d)},m(e,s){h(e,t,s)},p:g,d(e){e&&d(t)}}}function K(e){let t,s=[],a=new Map,l=e[0];const r=e=>e[15].id;for(let c=0;c<l.length;c+=1){let t=L(e,l,c),n=r(t);a.set(n,s[c]=Q(n,t))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=E()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=E()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);h(e,t,a)},p(e,c){129&c&&(l=e[0],s=T(s,c,r,1,e,l,a,t.parentNode,w,Q,t,L))},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&d(t)}}}function Q(e,t){let s,p,v,g,m,b,y,E,T,w,D=t[15].class_name+"";function _(){return t[13](t[15])}return{key:e,first:null,c(){s=a("tr"),p=a("td"),v=l(D),g=r(),m=a("td"),b=a("button"),y=l("Delete"),E=r(),this.h()},l(e){s=c(e,"TR",{class:!0});var t=n(s);p=c(t,"TD",{class:!0});var a=n(p);v=o(a,D),a.forEach(d),g=i(t),m=c(t,"TD",{});var l=n(m);b=c(l,"BUTTON",{class:!0});var r=n(b);y=o(r,"Delete"),r.forEach(d),l.forEach(d),E=i(t),t.forEach(d),this.h()},h(){f(p,"class","capitalize text-center"),f(b,"class","bg-red-600 text-white text-xs py-2 px-4 rounded-full"),f(s,"class","border-gray-300 border-b text-sm text-gray-800"),this.first=s},m(e,t){h(e,s,t),u(s,p),u(p,v),u(s,g),u(s,m),u(m,b),u(b,y),u(s,E),T||(w=x(m,"click",_),T=!0)},p(e,s){t=e,1&s&&D!==(D=t[15].class_name+"")&&C(v,D)},d(e){e&&d(s),T=!1,w()}}}function W(e){let t,s;return t=new U({props:{classes:e[0]}}),t.$on("click",e[6]),t.$on("addclass",e[14]),{c(){D(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,a){N(t,e,a),s=!0},p(e,s){const a={};1&s&&(a.classes=e[0]),t.$set(a)},i(e){s||(S(t.$$.fragment,e),s=!0)},o(e){I(t.$$.fragment,e),s=!1},d(e){O(t,e)}}}function X(e){let t,s,v,g,b,y,T,w,D,_,N,O,A,H,P,U,L,R,J,G,q,Q,X,Z,ee,te,se,ae,le,re,ce,ne,oe,de,ie,fe,he,ue,pe,xe,ve,ge,me,be,ye,Ee,Te,we,De,_e,Ne,Se,Ie,Oe,je,Ve,$e,Ce,ke,Be,Ae,He,Pe,Ue,Le,Re,Je,Me=e[2].length+"",Ge=e[0].length+"",ze=e[0].length>0&&M(e);function Ye(e,t){return e[2].length>0?Y:z}let qe=Ye(e),Fe=qe(e);function Ke(e,t){return e[0].length>0?K:F}let Qe=Ke(e),We=Qe(e),Xe=e[3]&&W(e);return{c(){t=a("div"),s=a("div"),v=a("h4"),g=l("Students"),b=r(),y=a("div"),T=a("button"),w=l("Add a Class"),D=r(),_=a("div"),N=a("div"),O=a("div"),A=a("div"),H=a("div"),P=a("select"),U=a("option"),L=l("Select Class"),ze&&ze.c(),R=r(),J=a("input"),G=r(),q=a("button"),Q=l("Export Student Data"),X=r(),Z=a("table"),ee=a("thead"),te=a("tr"),se=a("th"),ae=l("S/No"),le=r(),re=a("th"),ce=l("Student Name"),ne=r(),oe=a("th"),de=l("Grade"),ie=r(),fe=a("th"),he=l("Action"),ue=r(),pe=a("tbody"),Fe.c(),xe=r(),ve=a("div"),ge=a("div"),me=l("Total Students: "),be=l(Me),ye=r(),Ee=a("div"),Te=a("div"),we=a("table"),De=a("thead"),_e=a("tr"),Ne=a("th"),Se=l("Class Name"),Ie=r(),Oe=a("th"),je=l("Action"),Ve=r(),$e=a("tbody"),We.c(),Ce=r(),ke=a("div"),Be=a("div"),Ae=l("Total Classes: "),He=l(Ge),Pe=r(),Xe&&Xe.c(),Ue=E(),this.h()},l(e){t=c(e,"DIV",{class:!0});var a=n(t);s=c(a,"DIV",{class:!0});var l=n(s);v=c(l,"H4",{class:!0});var r=n(v);g=o(r,"Students"),r.forEach(d),b=i(l),y=c(l,"DIV",{});var f=n(y);T=c(f,"BUTTON",{class:!0});var h=n(T);w=o(h,"Add a Class"),h.forEach(d),f.forEach(d),l.forEach(d),D=i(a),_=c(a,"DIV",{class:!0});var u=n(_);N=c(u,"DIV",{class:!0});var p=n(N);O=c(p,"DIV",{class:!0});var x=n(O);A=c(x,"DIV",{class:!0});var m=n(A);H=c(m,"DIV",{class:!0});var S=n(H);P=c(S,"SELECT",{class:!0});var I=n(P);U=c(I,"OPTION",{});var j=n(U);L=o(j,"Select Class"),j.forEach(d),ze&&ze.l(I),I.forEach(d),R=i(S),J=c(S,"INPUT",{type:!0,class:!0,placeholder:!0}),G=i(S),q=c(S,"BUTTON",{class:!0});var V=n(q);Q=o(V,"Export Student Data"),V.forEach(d),S.forEach(d),m.forEach(d),X=i(x),Z=c(x,"TABLE",{id:!0,class:!0});var $=n(Z);ee=c($,"THEAD",{class:!0});var C=n(ee);te=c(C,"TR",{class:!0});var k=n(te);se=c(k,"TH",{class:!0});var B=n(se);ae=o(B,"S/No"),B.forEach(d),le=i(k),re=c(k,"TH",{class:!0});var M=n(re);ce=o(M,"Student Name"),M.forEach(d),ne=i(k),oe=c(k,"TH",{class:!0});var z=n(oe);de=o(z,"Grade"),z.forEach(d),ie=i(k),fe=c(k,"TH",{class:!0});var Y=n(fe);he=o(Y,"Action"),Y.forEach(d),k.forEach(d),C.forEach(d),ue=i($),pe=c($,"TBODY",{});var F=n(pe);Fe.l(F),F.forEach(d),$.forEach(d),x.forEach(d),xe=i(p),ve=c(p,"DIV",{class:!0});var K=n(ve);ge=c(K,"DIV",{class:!0});var W=n(ge);me=o(W,"Total Students: "),be=o(W,Me),W.forEach(d),K.forEach(d),p.forEach(d),ye=i(u),Ee=c(u,"DIV",{});var Le=n(Ee);Te=c(Le,"DIV",{class:!0});var Re=n(Te);we=c(Re,"TABLE",{id:!0,class:!0});var Je=n(we);De=c(Je,"THEAD",{class:!0});var Ye=n(De);_e=c(Ye,"TR",{class:!0});var qe=n(_e);Ne=c(qe,"TH",{style:!0,class:!0});var Ke=n(Ne);Se=o(Ke,"Class Name"),Ke.forEach(d),Ie=i(qe),Oe=c(qe,"TH",{class:!0});var Qe=n(Oe);je=o(Qe,"Action"),Qe.forEach(d),qe.forEach(d),Ye.forEach(d),Ve=i(Je),$e=c(Je,"TBODY",{});var Ze=n($e);We.l(Ze),Ze.forEach(d),Je.forEach(d),Ce=i(Re),ke=c(Re,"DIV",{class:!0});var et=n(ke);Be=c(et,"DIV",{class:!0});var tt=n(Be);Ae=o(tt,"Total Classes: "),He=o(tt,Ge),tt.forEach(d),et.forEach(d),Re.forEach(d),Le.forEach(d),u.forEach(d),a.forEach(d),Pe=i(e),Xe&&Xe.l(e),Ue=E(),this.h()},h(){f(v,"class","font-bold text-4xl text-gray-700 cursor-pointer"),f(T,"class","px-6 py-3 bg-transparent border-2 border-gray-700 text-gray-700 text-base font-bold rounded-full"),f(s,"class","flex items-center justify-between mb-10"),U.__value="",U.value=U.__value,f(P,"class","w-full mr-3 rounded-xl border focus:border-transparent focus:outline-none focus:ring-2 focus:ring-black bg-white py-3 px-2 border-gray-600 text-sm text-gray-800 placeholder-gray-700"),void 0===e[1].grade&&j((()=>e[9].call(P))),f(J,"type","text"),f(J,"class","w-full mr-3 rounded-xl border focus:border-none focus:outline-none focus:ring-2 focus:ring-black bg-white py-3 px-2 border-gray-600 text-sm text-gray-800 placeholder-gray-700"),f(J,"placeholder","Student Name"),f(q,"class","p-2 bg-green-500 text-white text-xs font-bold hover:bg-green-600 rounded-full w-96"),f(H,"class","flex flex-row w-full"),f(A,"class","flex flex-row px-4"),f(se,"class","pl-4 py-2"),f(re,"class","py-2"),f(oe,"class","py-2"),f(fe,"class","py-2"),f(te,"class","text-left text-xs text-white px-4 uppercase"),f(ee,"class","bg-gray-600"),f(Z,"id","tblData"),f(Z,"class","table-fixed mt-5 min-w-full"),f(O,"class",""),f(ge,"class","text-xl font-bold text-gray-600"),f(ve,"class","flex flex-col space-y-3 justify-center items-center mt-5 px-4 text-xs"),f(N,"class","flex flex-col justify-between bg-white rounded-xl h-full w-auto mt-5 py-5 overflow-x-hidden overflow-scroll scrollbar relative shadow-2xl"),V(Ne,"overflow","hidden"),f(Ne,"class","py-2"),f(Oe,"class","py-2"),f(_e,"class","text-left text-xs text-white px-4 uppercase rounded-xl"),f(De,"class","flex w-64 bg-gray-600 rounded-t-xl"),f(we,"id","tblData"),f(we,"class","table-fixed w-full"),f(Be,"class","text-xl font-bold text-gray-600"),f(ke,"class","flex flex-col space-y-3 justify-center items-center mt-5 px-4 text-xs"),f(Te,"class","w-64 bg-white rounded-xl shadow-2xl my-5 pb-8 flex-none"),f(_,"class","flex space-x-10"),f(t,"class","flex flex-col px-10 min-h-screen py-10 bg-gray-200")},m(a,l){h(a,t,l),u(t,s),u(s,v),u(v,g),u(s,b),u(s,y),u(y,T),u(T,w),u(t,D),u(t,_),u(_,N),u(N,O),u(O,A),u(A,H),u(H,P),u(P,U),u(U,L),ze&&ze.m(P,null),$(P,e[1].grade),u(H,R),u(H,J),p(J,e[1].student_name),u(H,G),u(H,q),u(q,Q),u(O,X),u(O,Z),u(Z,ee),u(ee,te),u(te,se),u(se,ae),u(te,le),u(te,re),u(re,ce),u(te,ne),u(te,oe),u(oe,de),u(te,ie),u(te,fe),u(fe,he),u(Z,ue),u(Z,pe),Fe.m(pe,null),u(N,xe),u(N,ve),u(ve,ge),u(ge,me),u(ge,be),u(_,ye),u(_,Ee),u(Ee,Te),u(Te,we),u(we,De),u(De,_e),u(_e,Ne),u(Ne,Se),u(_e,Ie),u(_e,Oe),u(Oe,je),u(we,Ve),u(we,$e),We.m($e,null),u(Te,Ce),u(Te,ke),u(ke,Be),u(Be,Ae),u(Be,He),h(a,Pe,l),Xe&&Xe.m(a,l),h(a,Ue,l),Le=!0,Re||(Je=[x(T,"click",e[5]),x(P,"change",e[9]),x(J,"input",e[10]),x(q,"click",e[11])],Re=!0)},p(e,[t]){e[0].length>0?ze?ze.p(e,t):(ze=M(e),ze.c(),ze.m(P,null)):ze&&(ze.d(1),ze=null),3&t&&$(P,e[1].grade),3&t&&J.value!==e[1].student_name&&p(J,e[1].student_name),qe===(qe=Ye(e))&&Fe?Fe.p(e,t):(Fe.d(1),Fe=qe(e),Fe&&(Fe.c(),Fe.m(pe,null))),(!Le||4&t)&&Me!==(Me=e[2].length+"")&&C(be,Me),Qe===(Qe=Ke(e))&&We?We.p(e,t):(We.d(1),We=Qe(e),We&&(We.c(),We.m($e,null))),(!Le||1&t)&&Ge!==(Ge=e[0].length+"")&&C(He,Ge),e[3]?Xe?(Xe.p(e,t),8&t&&S(Xe,1)):(Xe=W(e),Xe.c(),S(Xe,1),Xe.m(Ue.parentNode,Ue)):Xe&&(B(),I(Xe,1,1,(()=>{Xe=null})),k())},i(e){Le||(S(Xe),Le=!0)},o(e){I(Xe),Le=!1},d(e){e&&d(t),ze&&ze.d(),Fe.d(),We.d(),e&&d(Pe),Xe&&Xe.d(e),e&&d(Ue),Re=!1,m(Je)}}}async function Z({fetch:e}){const t=await e("/api/getStudents.json"),s=await t.json();return{props:{students:s.students,classes:s.classes}}}function ee(e,t,s){let a=[],{classes:l}=t,r={student_name:"",grade:""},c=!1;const n=e=>s(0,l=e),o=e=>{fetch("/api/deleteclass.json",{method:"POST",body:JSON.stringify({id:e}),headers:{"content-type":"application/json"}}).then((e=>e.json())).then((e=>s(0,l=e))).catch((e=>e))},d=e=>{fetch("/api/deleteStudent.json",{method:"POST",body:JSON.stringify({id:e}),headers:{"content-type":"application/json"}}).then((e=>e.json())).then((e=>{s(2,a),s(1,r)})).catch((e=>e))};return e.$$set=e=>{"classes"in e&&s(0,l=e.classes)},e.$$.update=()=>{2&e.$$.dirty&&fetch("/api/students/"+JSON.stringify(r)+".json").then((e=>e.json())).then((e=>s(2,a=e.students))).catch((e=>e))},[l,r,a,c,n,()=>s(3,c=!0),()=>s(3,c=!1),o,d,function(){r.grade=A(this),s(1,r),s(0,l)},function(){r.student_name=this.value,s(1,r),s(0,l)},()=>function(e,t=""){var s,a="application/vnd.ms-excel",l=document.getElementById(e).outerHTML.replace(/ /g,"%20");if(t=t?t+".xls":"excel_data.xls",s=document.createElement("a"),document.body.appendChild(s),navigator.msSaveOrOpenBlob){var r=new Blob(["\ufeff",l],{type:a});navigator.msSaveOrOpenBlob(r,t)}else s.href="data:"+a+", "+l,s.download=t,s.click()}("tblData",r.student_grade),e=>d(e.id),e=>o(e.id),e=>{n(e.detail)}]}export default class extends e{constructor(e){super(),t(this,e,ee,X,s,{classes:0})}}export{Z as load};
