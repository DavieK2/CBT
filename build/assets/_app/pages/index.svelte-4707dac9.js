import{S as e,i as t,s,l as a,f as l,H as n,I as o,d as r,e as c,t as u,k as i,c as f,a as d,g as m,n as h,b as p,J as v,F as g,K as b,L as y,M as x,N as _,G as w,O as E,h as T,P as S}from"../chunks/vendor-1c533bd0.js";import{r as I}from"../chunks/singletons-bb9012b7.js";import{t as N}from"../chunks/test-54fffc01.js";const O=async function(e,t){return I.goto(e,t,[])};function j(e,t,s){const a=e.slice();return a[8]=t[s],a}function L(e,t,s){const a=e.slice();return a[11]=t[s],a}function P(e){let t,s=[],c=new Map,u=e[0];const i=e=>e[11].id;for(let a=0;a<u.length;a+=1){let t=L(e,u,a),l=i(t);c.set(l,s[a]=k(l,t))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=a()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=a()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);l(e,t,a)},p(e,a){1&a&&(u=e[0],s=n(s,a,i,1,e,u,c,t.parentNode,o,k,t,L))},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&r(t)}}}function k(e,t){let s,a,n,o=t[11].class_name+"";return{key:e,first:null,c(){s=c("option"),a=u(o),this.h()},l(e){s=f(e,"OPTION",{});var t=d(s);a=m(t,o),t.forEach(r),this.h()},h(){s.__value=n=t[11].class_name,s.value=s.__value,this.first=s},m(e,t){l(e,s,t),g(s,a)},p(e,l){t=e,1&l&&o!==(o=t[11].class_name+"")&&T(a,o),1&l&&n!==(n=t[11].class_name)&&(s.__value=n,s.value=s.__value)},d(e){e&&r(s)}}}function C(e){let t,s=[],c=new Map,u=e[1];const i=e=>e[8].id;for(let a=0;a<u.length;a+=1){let t=j(e,u,a),l=i(t);c.set(l,s[a]=A(l,t))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=a()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=a()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);l(e,t,a)},p(e,a){2&a&&(u=e[1],s=n(s,a,i,1,e,u,c,t.parentNode,o,A,t,j))},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&r(t)}}}function A(e,t){let s,a,n,o=t[8].title+"";return{key:e,first:null,c(){s=c("option"),a=u(o),this.h()},l(e){s=f(e,"OPTION",{});var t=d(s);a=m(t,o),t.forEach(r),this.h()},h(){s.__value=n=t[8].title,s.value=s.__value,this.first=s},m(e,t){l(e,s,t),g(s,a)},p(e,l){t=e,2&l&&o!==(o=t[8].title+"")&&T(a,o),2&l&&n!==(n=t[8].title)&&(s.__value=n,s.value=s.__value)},d(e){e&&r(s)}}}function D(e){let t,s,a,n,o,T,S,I,N,O,j,L,k,A,D,V,B,F,M,U,J,$,q,G,H,K,R,z,Q,W,X,Y,Z,ee,te,se=e[0].length>0&&P(e),ae=e[1].length>0&&C(e);return{c(){t=c("div"),s=c("form"),a=c("div"),n=c("div"),o=c("label"),T=u("Type in your First Name"),S=i(),I=c("input"),N=i(),O=c("div"),j=c("label"),L=u("Type in your Surname"),k=i(),A=c("input"),D=i(),V=c("div"),B=c("label"),F=u("Select your Class"),M=i(),U=c("select"),J=c("option"),$=u("Select your Class"),se&&se.c(),q=i(),G=c("div"),H=c("label"),K=u("Select Test"),R=i(),z=c("select"),Q=c("option"),W=u("Select Test"),ae&&ae.c(),X=i(),Y=c("button"),Z=u("Click to Proceed"),this.h()},l(e){t=f(e,"DIV",{class:!0});var l=d(t);s=f(l,"FORM",{class:!0,action:!0,method:!0});var c=d(s);a=f(c,"DIV",{class:!0});var u=d(a);n=f(u,"DIV",{class:!0});var i=d(n);o=f(i,"LABEL",{class:!0,for:!0});var p=d(o);T=m(p,"Type in your First Name"),p.forEach(r),S=h(i),I=f(i,"INPUT",{class:!0,type:!0,name:!0,id:!0,autocomplete:!0}),i.forEach(r),N=h(u),O=f(u,"DIV",{class:!0});var v=d(O);j=f(v,"LABEL",{class:!0,for:!0});var g=d(j);L=m(g,"Type in your Surname"),g.forEach(r),k=h(v),A=f(v,"INPUT",{class:!0,type:!0,name:!0,id:!0,autocomplete:!0}),v.forEach(r),D=h(u),V=f(u,"DIV",{class:!0});var b=d(V);B=f(b,"LABEL",{class:!0,for:!0});var y=d(B);F=m(y,"Select your Class"),y.forEach(r),M=h(b),U=f(b,"SELECT",{class:!0,type:!0,name:!0,id:!0,autocomplete:!0});var x=d(U);J=f(x,"OPTION",{});var _=d(J);$=m(_,"Select your Class"),_.forEach(r),se&&se.l(x),x.forEach(r),b.forEach(r),q=h(u),G=f(u,"DIV",{class:!0});var w=d(G);H=f(w,"LABEL",{class:!0,for:!0});var E=d(H);K=m(E,"Select Test"),E.forEach(r),R=h(w),z=f(w,"SELECT",{class:!0,type:!0,name:!0,id:!0,autocomplete:!0});var P=d(z);Q=f(P,"OPTION",{});var C=d(Q);W=m(C,"Select Test"),C.forEach(r),ae&&ae.l(P),P.forEach(r),w.forEach(r),u.forEach(r),X=h(c),Y=f(c,"BUTTON",{type:!0,class:!0});var ee=d(Y);Z=m(ee,"Click to Proceed"),ee.forEach(r),c.forEach(r),l.forEach(r),this.h()},h(){p(o,"class","text-gray-100 text-base  mb-2"),p(o,"for","first_name"),p(I,"class","focus:outline-none bg-blue-100 text-base py-3 px-4 w-full  rounded-lg"),p(I,"type","text"),p(I,"name","first_name"),p(I,"id","first_name"),p(I,"autocomplete","off"),I.required=!0,p(n,"class","flex flex-col justify-between w-full"),p(j,"class"," text-gray-100 text-base  mb-2"),p(j,"for","surname"),p(A,"class","focus:outline-none bg-blue-100 text-base py-3 px-4 w-full rounded-lg"),p(A,"type","text"),p(A,"name","surname"),p(A,"id","surname"),p(A,"autocomplete","off"),p(O,"class","flex flex-col justify-between w-full"),p(B,"class"," text-gray-100 text-base  mb-2"),p(B,"for","first_name"),J.__value="",J.value=J.__value,J.disabled=!0,J.selected=!0,p(U,"class","focus:outline-none bg-blue-100 text-base py-3 px-4 w-full rounded-lg"),p(U,"type","text"),p(U,"name","class"),p(U,"id",""),p(U,"autocomplete","off"),void 0===e[2].grade&&v((()=>e[6].call(U))),p(V,"class","flex flex-col justify-between w-full"),p(H,"class"," text-gray-100 text-base  mb-2"),p(H,"for","first_name"),Q.__value="",Q.value=Q.__value,Q.disabled=!0,Q.selected=!0,p(z,"class","focus:outline-none bg-blue-100 text-base py-3 px-4 w-full rounded-lg"),p(z,"type","text"),p(z,"name","class"),p(z,"id",""),p(z,"autocomplete","off"),void 0===e[2].test&&v((()=>e[7].call(z))),p(G,"class","flex flex-col justify-between w-full"),p(a,"class","space-y-7"),p(Y,"type","submit"),p(Y,"class","mt-10 text-center rounded-xl bg-red-500  text-base  text-white px-6 py-4 hover:bg-red-600"),p(s,"class","flex flex-col fixed inset-0 font-bold text-center bg-black p-12 bg-opacity-40 max-w-lg max-h-[38rem] mx-auto my-auto rounded-2xl"),p(s,"action",""),p(s,"method","post"),p(t,"class","relative min-h-screen w-full bg-gradient-to-b  from-[#470179] to-blue-900")},m(r,c){l(r,t,c),g(t,s),g(s,a),g(a,n),g(n,o),g(o,T),g(n,S),g(n,I),b(I,e[2].first_name),g(a,N),g(a,O),g(O,j),g(j,L),g(O,k),g(O,A),b(A,e[2].surname),g(a,D),g(a,V),g(V,B),g(B,F),g(V,M),g(V,U),g(U,J),g(J,$),se&&se.m(U,null),y(U,e[2].grade),g(a,q),g(a,G),g(G,H),g(H,K),g(G,R),g(G,z),g(z,Q),g(Q,W),ae&&ae.m(z,null),y(z,e[2].test),g(s,X),g(s,Y),g(Y,Z),ee||(te=[x(I,"input",e[4]),x(A,"input",e[5]),x(U,"change",e[6]),x(z,"change",e[7]),x(s,"submit",_(e[3]))],ee=!0)},p(e,[t]){5&t&&I.value!==e[2].first_name&&b(I,e[2].first_name),5&t&&A.value!==e[2].surname&&b(A,e[2].surname),e[0].length>0?se?se.p(e,t):(se=P(e),se.c(),se.m(U,null)):se&&(se.d(1),se=null),5&t&&y(U,e[2].grade),e[1].length>0?ae?ae.p(e,t):(ae=C(e),ae.c(),ae.m(z,null)):ae&&(ae.d(1),ae=null),5&t&&y(z,e[2].test)},i:w,o:w,d(e){e&&r(t),se&&se.d(),ae&&ae.d(),ee=!1,E(te)}}}async function V({fetch:e}){const t=await e("/api/getClassesAndTests.json"),s=await t.json();return{props:{tests:s.tests,classes:s.classes}}}function B(e,t,s){let{classes:a}=t,{tests:l}=t,n={first_name:"",surname:"",grade:"",test:""};return e.$$set=e=>{"classes"in e&&s(0,a=e.classes),"tests"in e&&s(1,l=e.tests)},[a,l,n,async()=>{"Administrator"===n.first_name&&"Superadmin"===n.surname&&O("/results");const e=await fetch("/index.json",{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}});let t=await e.json();t=t.data,t&&(window.localStorage.setItem("student_name",t.student_name),window.localStorage.setItem("student_grade",t.student_grade),window.localStorage.setItem("test_id",t.test_id),N.update((e=>t)),O("/instructions"))},function(){n.first_name=this.value,s(2,n),s(0,a)},function(){n.surname=this.value,s(2,n),s(0,a)},function(){n.grade=S(this),s(2,n),s(0,a)},function(){n.test=S(this),s(2,n),s(0,a)}]}export default class extends e{constructor(e){super(),t(this,e,B,D,s,{classes:0,tests:1})}}export{V as load};
